(this.webpackJsonpuntitled=this.webpackJsonpuntitled||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(9),s=n.n(r),i=n(2),a=n.n(i),o=n(3),l=n(4),u=(n(16),n(8)),j=n(10),d=n(0),h=["children"],p=function(e){var t=e.children,n=Object(j.a)(e,h);return Object(d.jsx)("button",Object(u.a)(Object(u.a)({},n),{},{className:"btn btn-primary",children:t}))},b=function(e){var t=e.posts,n=e.remove,c=e.edit;return Object(d.jsxs)("table",{className:"table table-striped",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:"Title"}),Object(d.jsx)("th",{scope:"col",children:"Link"}),Object(d.jsx)("th",{scope:"col",children:"Created by"}),Object(d.jsx)("th",{scope:"col",children:"Category"}),Object(d.jsx)("th",{scope:"col",children:"Action"})]})}),Object(d.jsx)("tbody",{children:t.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:e.title}),Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("a",{href:"/posts/".concat(e.id),children:"link"})}),Object(d.jsx)("th",{scope:"col",children:e.user}),Object(d.jsx)("th",{scope:"col",children:e.category}),Object(d.jsxs)("th",{scope:"col",children:[Object(d.jsx)(p,{onClick:function(){return n(e)},children:"Delete"})," ",Object(d.jsx)(p,{onClick:function(){return c(e)},children:"Edit"})]})]},e.id)}))})]})},O=n(5),f=n(6),x=function(){function e(){Object(O.a)(this,e)}return Object(f.a)(e,null,[{key:"getPage",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,c,r,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:14,n=s.length>1&&void 0!==s[1]?s[1]:1,c={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},e.next=5,fetch("/json/posts?limit="+t+"&page="+n,c);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deletePost",value:function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/admin/posts/".concat(t,"/delete"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),m=function(e,t){return Math.ceil(e/t)},v=function(e){var t=e.totalPages,n=e.page,c=e.changePage,r=function(e){for(var t=[],n=1;n<e+1;n++)t.push(n);return t}(t);return Object(d.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.jsx)("nav",{children:Object(d.jsx)("ul",{className:"pagination",children:r.map((function(e){return Object(d.jsx)("li",{onClick:function(){return c(e)},className:e===n?"page-item active":"page-item",children:Object(d.jsx)("button",{className:"page-link",href:"",children:e})},e)}))})})})},g=function(e){var t=e.setCurrentMode;return Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:function(){return t("posts")},className:"btn btn-outline-secondary btn-lg w-100",children:"Posts"}),Object(d.jsx)("button",{onClick:function(){return t("users")},className:"btn btn-outline-secondary btn-lg w-100",children:"Users"})]})},y=function(e){var t=e.users,n=e.remove,c=e.edit;return Object(d.jsxs)("table",{className:"table table-striped",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:"Id"}),Object(d.jsx)("th",{scope:"col",children:"Username"}),Object(d.jsx)("th",{scope:"col",children:"Email"}),Object(d.jsx)("th",{scope:"col",children:"Role"}),Object(d.jsx)("th",{scope:"col",children:"Action"})]})}),Object(d.jsx)("tbody",{children:t.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:e.id}),Object(d.jsx)("th",{scope:"col",children:e.name}),Object(d.jsx)("th",{scope:"col",children:e.email}),Object(d.jsx)("th",{scope:"col",children:e.role}),Object(d.jsxs)("th",{scope:"col",children:[Object(d.jsx)(p,{onClick:function(){return n(e)},children:"Delete"})," ",Object(d.jsx)(p,{onClick:function(){return c(e)},children:"Edit"})]})]},e.id)}))})]})},w=function(){function e(){Object(O.a)(this,e)}return Object(f.a)(e,null,[{key:"getPage",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,c,r,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:14,n=s.length>1&&void 0!==s[1]?s[1]:1,c={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},e.next=5,fetch("/json/users?limit="+t+"&page="+n,c);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/admin/users/".concat(t,"/delete"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();var k=function(){var e=Object(c.useState)([{id:1,link:"#",title:"Javascript",user:"user",category:"news"},{id:2,link:"#",title:"Javascript",user:"user",category:"news"},{id:3,link:"#",title:"Javascript",user:"user",category:"news"}]),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([{id:1,name:"Admin",email:"email@email.org",role:"admin"},{id:2,name:"Alan",email:"email@email.org",role:"writer"},{id:3,name:"Turing",email:"email@email.org",role:"reader"}]),i=Object(l.a)(s,2),u=i[0],j=i[1],h=Object(c.useState)(1),p=Object(l.a)(h,2),O=p[0],f=p[1],k=Object(c.useState)(14),C=Object(l.a)(k,2),N=C[0],P=(C[1],Object(c.useState)(10)),T=Object(l.a)(P,2),S=T[0],A=T[1],E=Object(c.useState)("posts"),U=Object(l.a)(E,2),J=U[0],M=U[1];function D(){return(D=Object(o.a)(a.a.mark((function e(){var t,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getPage(N,O);case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,console.log(c),r(c),console.log(n),s=t.headers.get("x-total-count"),A(m(s,N));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(o.a)(a.a.mark((function e(){var t,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getPage(N,O);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,j(n),c=t.headers.get("x-total-count"),A(m(c,N));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){"posts"===J?function(){D.apply(this,arguments)}():function(){F.apply(this,arguments)}()}),[O,J]),Object(c.useEffect)((function(){f(1)}),[J]),Object(d.jsx)("div",{className:"App container-fluid h-100",children:Object(d.jsxs)("div",{className:"row h-100",children:[Object(d.jsx)("div",{className:"col-1 border-end border-2 px-0 h-100",children:Object(d.jsx)(g,{setCurrentMode:M})}),Object(d.jsxs)("div",{className:"col-11 px-0",children:[" ","posts"===J?Object(d.jsx)(b,{posts:n,remove:function(e){r(n.filter((function(t){return t.id!==e.id}))),x.deletePost(e.id)},edit:function(e){}}):Object(d.jsx)(y,{users:u,remove:function(e){j(u.filter((function(t){return t.id!==e.id}))),w.deleteUser(e.id)},edit:function(e){}}),Object(d.jsx)(v,{totalPages:S,page:O,changePage:function(e){f(e)}})]})]})})};s.a.render(Object(d.jsx)(k,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.01b5937a.chunk.js.map